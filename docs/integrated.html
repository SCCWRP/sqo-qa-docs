<h1>Overall Integrated Site Assessment Score</h1>

<p>The <code>SQOUnified</code> function calculates an integrated site assessment score by combining data from three Lines of Evidence (LOE): Benthic, Chemistry, and Toxicity. This function accepts three dataframes as arguments and outputs a comprehensive site assessment score.</p>

- Integrated Site Assessment Score Function (<a href="https://github.com/SCCWRP/SQOUnified/blob/master/R/SQOUnified.R?plain=1#L20" target="_blank">SQOUnified</a>)

<p>The <code>SQOUnified</code> function requires the following dataframes as inputs:</p>
<ul>
    <li><code>benthic</code>: Benthic index scores dataframe</li>
    <li><code>chem</code>: Chemistry index scores dataframe</li>
    <li><code>tox</code>: Toxicity index scores dataframe</li>
</ul>
<p>Below is an example of how to call the <code>SQOUnified</code> function with sample dataframes, and how to view the output.</p>

<p>Example datasets for site assessment:</p>
<div class="code-block-container">
    <button class="copy-code-button">Copy Code</button>
    <pre class="code-block">
        <code class="code-block-content">
# Display the first few rows of each input dataframe
print(head(benthic_sampledata, 10))
print(head(chem_sampledata, 10))
print(head(tox_sampledata, 10))
        </code>
    </pre>
</div>

<br>

<h2>Overall Integrated Site Assessment Score Function</h2>
<p>Here is an example of how to use the <code>SQOUnified</code> function with sample dataframes</p>
<div class="code-block-container">
    <button class="copy-code-button">Copy Code</button>
    <pre class="code-block">
        <code class="code-block-content">
# Calculate Overall Integrated Site Assessment Score
integrated.sqo.scores <- SQOUnified(
    benthic = benthic_sampledata,
    chem = chem_sampledata,
    tox = tox_sampledata
)

# print the resulting overall score
# Just take StationID B18-10001 as an example
print(integrated.sqo.scores %>% filter(StationID == 'B18-10001') )
        </code>
    </pre>
</div>

<p>
    <b><u>Note</u></b>: Below is the output from the above code. It shows the site is "<b>Unimpacted</b>" based on the integration of the 3 lines of evidence.
    Notice that the other SQO Scores from the other lines of evidence are also included in the output.
</p>
<div class="table-container">
    <table>
        <thead>
            <tr>
                <th>StationID</th>
                <th>LOE</th>
                <th>Index</th>
                <th>Score</th>
                <th>Category</th>
                <th>Category Score</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>B18-10001</td>
                <td>Benthic</td>
                <td>BRI</td>
                <td>12.1</td>
                <td>Reference</td>
                <td>1</td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Benthic</td>
                <td>IBI</td>
                <td>0</td>
                <td>Reference</td>
                <td>1</td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Benthic</td>
                <td>Integrated SQO</td>
                <td>1</td>
                <td>Reference</td>
                <td>1</td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Benthic</td>
                <td>M-AMBI</td>
                <td>NA</td>
                <td>NA</td>
                <td>NA</td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Benthic</td>
                <td>RBI</td>
                <td>0.56</td>
                <td>Reference</td>
                <td>1</td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Benthic</td>
                <td>RIVPACS</td>
                <td>0.76</td>
                <td>Low Disturbance</td>
                <td>2</td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Chemistry</td>
                <td>CSI</td>
                <td>1.05</td>
                <td>Minimal Exposure</td>
                <td>1</td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Chemistry</td>
                <td>Integrated SQO</td>
                <td>3</td>
                <td>Moderate Exposure</td>
                <td>3</td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Chemistry</td>
                <td>LRM</td>
                <td>0.67</td>
                <td>High Exposure</td>
                <td>4</td>
            </tr>
            <tr>
                <td><strong>B18-10001</strong></td>
                <td><strong>Integrated</strong></td>
                <td><strong>Site Assessment</strong></td>
                <td><strong>NA</strong></td>
                <td><strong>Unimpacted</strong></td>
                <td><strong>NA</strong></td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Toxicity</td>
                <td>Eohaustorius Survival</td>
                <td>1</td>
                <td>Nontoxic</td>
                <td>1</td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Toxicity</td>
                <td>Integrated SQO</td>
                <td>1</td>
                <td>Nontoxic</td>
                <td>1</td>
            </tr>
            <tr>
                <td>B18-10001</td>
                <td>Toxicity</td>
                <td>Mytilus NormDev</td>
                <td>1</td>
                <td>Nontoxic</td>
                <td>1</td>
            </tr>
        </tbody>
    </table>
</div>

<br>

<p>
    The output from the <code>SQOUnified</code> function will have all scores from all indices from all lines of evidence, as well as the overall integrated site assessment score. 
    The output will also include the individual SQO scores for each line of evidence.
</p>
<p><b>Note</b>: If any of the <code>benthic</code>, <code>chem</code>, or <code>tox</code> dataframes are not provided, <code>SQOUnified</code> will return an error to ensure complete data for the integrated assessment.</p>

<br>
<h2>Code example - from installation to integrated site assessment scores</h2>
<p>
    
</p>
<div class="code-block-container">
<button class="copy-code-button">Copy Code</button>
<pre class="code-block">
<code class = "code-block-content"
># Install the devtools package
install.packages('devtools')

# Install the SQOUnified R Package
devtools::install_github("SCCWRP/SQOUnified")

# Load the SQOUnified package
library(SQOUnified)



# Calculate Overall Integrated Site Assessment Score
integrated.sqo.scores <- SQOUnified(
    benthic = benthic_sampledata,
    chem = chem_sampledata,
    tox = tox_sampledata
)

integrated.sqo.scores</code>
</pre>
</div>